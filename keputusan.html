<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Enhanced Decision Maker - DIGILife</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      :root {
        --primary-dark: #1f2a38;
        --secondary-dark: #2c3e50;
        --accent-purple: #b458ff;
        --highlight-green: #2ecc71;
        --highlight-red: #e74c3c;
        --text-light: #ecf0f1;
        --background-gradient: linear-gradient(
          135deg,
          #4b3869 0%,
          #291a3b 100%
        );
        --logo-yellow: #f1c40f;
        --roulette-bg: #34495e;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }

      body {
        background: var(--background-gradient);
        color: var(--text-light);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding: 20px 10px;
      }

      .main-app {
        width: 100%;
        max-width: 800px;
        background-color: var(--secondary-dark);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        animation: fadeIn 0.6s ease-out;
        overflow: hidden;
        position: relative;
      }

      .pulse-light {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 12px;
        height: 12px;
        background: var(--highlight-green);
        border-radius: 50%;
        box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.7);
        animation: pulse-green 2s infinite;
        z-index: 10;
      }

      @keyframes pulse-green {
        0% {
          transform: scale(0.95);
          box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.7);
        }
        70% {
          transform: scale(1);
          box-shadow: 0 0 0 10px rgba(46, 204, 113, 0);
        }
        100% {
          transform: scale(0.95);
          box-shadow: 0 0 0 0 rgba(46, 204, 113, 0);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .app-header {
        padding: 20px;
        background-color: var(--primary-dark);
        border-bottom: 2px solid var(--accent-purple);
        text-align: center;
        position: relative;
      }

      .logo {
        font-family: "Fredoka One", cursive;
        font-size: 2rem;
        color: var(--logo-yellow);
        margin-bottom: 5px;
        text-shadow: 0 0 10px rgba(241, 196, 15, 0.5);
      }

      .subtitle {
        color: rgba(255, 255, 255, 0.8);
        font-size: 1rem;
      }

      .tips-box {
        background: rgba(46, 204, 113, 0.1);
        border: 1px solid var(--highlight-green);
        border-radius: 10px;
        padding: 12px 15px;
        margin: 15px 20px;
        font-size: 0.85rem;
        color: var(--highlight-green);
        text-align: center;
        animation: slideDown 0.5s ease-out;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .content-section {
        padding: 20px;
      }

      .border-section {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .input-style {
        padding: 12px 15px;
        border: 2px solid var(--accent-purple);
        border-radius: 8px;
        background-color: var(--primary-dark);
        color: var(--text-light);
        font-size: 1rem;
        outline: none;
        transition: border-color 0.3s, box-shadow 0.3s;
        width: 100%;
      }

      .input-style:focus {
        border-color: var(--highlight-green);
        box-shadow: 0 0 0 2px rgba(46, 204, 113, 0.5);
      }

      .input-style::placeholder {
        color: rgba(255, 255, 255, 0.5);
      }

      .btn-style {
        transition: all 0.3s ease;
        font-weight: 700;
        cursor: pointer;
        border: none;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .btn-style:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
      }

      .add-btn {
        background: var(--logo-yellow);
        color: var(--primary-dark);
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
      }

      .add-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(241, 196, 15, 0.6);
      }

      .remove-btn {
        background: var(--highlight-red);
        color: white;
        width: 35px;
        height: 35px;
        font-size: 1rem;
      }

      .remove-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(231, 76, 60, 0.6);
      }

      .decision-btn {
        background: linear-gradient(45deg, var(--highlight-green), #27ae60);
        color: white;
        padding: 15px 30px;
        font-size: 1.1rem;
        width: 100%;
        margin: 15px 0;
        box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
        position: relative;
        overflow: hidden;
      }

      .decision-btn:hover:not(:disabled) {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(46, 204, 113, 0.6);
        background: linear-gradient(45deg, #27ae60, var(--highlight-green));
      }

      .decision-btn:active {
        transform: translateY(1px);
      }

      .decision-btn:disabled {
        background: rgba(255, 255, 255, 0.2);
        color: rgba(255, 255, 255, 0.5);
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .decision-btn:disabled:hover {
        transform: none;
        box-shadow: none;
      }

      .options-list {
        max-height: 200px;
        overflow-y: auto;
        padding: 10px;
        background: var(--primary-dark);
        border-radius: 8px;
        margin: 15px 0;
      }

      .options-list::-webkit-scrollbar {
        width: 8px;
      }

      .options-list::-webkit-scrollbar-thumb {
        background-color: #5d6d7e;
        border-radius: 10px;
      }

      .options-list::-webkit-scrollbar-track {
        background: var(--primary-dark);
      }

      .option-item {
        padding: 10px 15px;
        margin: 8px 0;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        animation: slideIn 0.3s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-10px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .option-text {
        flex: 1;
        color: var(--text-light);
      }

      /* ROULETTE STYLES - DIPERBAIKI */
      .roulette-container {
        position: relative;
        width: 100%;
        height: 200px;
        margin: 20px 0;
        overflow: hidden;
        border-radius: 10px;
        background: var(--roulette-bg);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .roulette-wheel {
        display: flex;
        height: 100%;
        position: absolute;
        left: 0;
        transition: transform 0.1s linear;
      }

      .roulette-item {
        min-width: 200px;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 20px;
        font-weight: 700;
        font-size: 1.2rem;
        text-align: center;
        color: white;
        border-right: 2px solid rgba(255, 255, 255, 0.1);
        background: linear-gradient(45deg, var(--accent-purple), #8e44ad);
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
      }

      .roulette-item:nth-child(even) {
        background: linear-gradient(45deg, var(--highlight-green), #27ae60);
      }

      .roulette-item:nth-child(3n) {
        background: linear-gradient(45deg, var(--logo-yellow), #f39c12);
      }

      .roulette-item:nth-child(4n) {
        background: linear-gradient(45deg, #e74c3c, #c0392b);
      }

      .roulette-item:nth-child(5n) {
        background: linear-gradient(45deg, #3498db, #2980b9);
      }

      .roulette-pointer {
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 3px;
        height: 100%;
        background: var(--highlight-red);
        box-shadow: 0 0 10px rgba(231, 76, 60, 0.8);
        z-index: 10;
      }

      .roulette-pointer::before {
        content: "‚ñº";
        position: absolute;
        top: -15px;
        left: 50%;
        transform: translateX(-50%);
        color: var(--highlight-red);
        font-size: 20px;
        text-shadow: 0 0 10px rgba(231, 76, 60, 0.8);
      }

      .result-section {
        text-align: center;
        min-height: 150px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      .result-placeholder {
        color: rgba(255, 255, 255, 0.6);
        font-style: italic;
      }

      .result-display {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--logo-yellow);
        margin: 15px 0;
        padding: 15px 25px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        border: 2px solid var(--accent-purple);
        animation: popIn 0.5s ease-out;
        text-shadow: 0 0 10px rgba(241, 196, 15, 0.3);
      }

      @keyframes popIn {
        0% {
          transform: scale(0.8);
          opacity: 0;
        }
        70% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .deciding-animation {
        font-size: 2rem;
        animation: pulse 1s infinite;
        color: var(--highlight-green);
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.7;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .fun-message {
        color: var(--accent-purple);
        font-style: italic;
        margin-top: 10px;
        font-size: 0.9rem;
        text-align: center;
      }

      .pros-cons-section {
        margin-top: 20px;
        padding: 15px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
      }

      .pros-cons-title {
        font-size: 1.1rem;
        margin-bottom: 10px;
        color: var(--logo-yellow);
        text-align: center;
      }

      .pros-cons-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
      }

      .pros-list,
      .cons-list {
        padding: 10px;
        border-radius: 8px;
      }

      .pros-list {
        background: rgba(46, 204, 113, 0.1);
        border: 1px solid var(--highlight-green);
      }

      .cons-list {
        background: rgba(231, 76, 60, 0.1);
        border: 1px solid var(--highlight-red);
      }

      .pros-cons-item {
        padding: 8px;
        margin: 5px 0;
        border-radius: 5px;
        font-size: 0.9rem;
      }

      .pros-item {
        background: rgba(46, 204, 113, 0.2);
      }

      .cons-item {
        background: rgba(231, 76, 60, 0.2);
      }

      .history-section {
        padding: 15px 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .history-title {
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 8px;
      }

      .history-item {
        padding: 8px 12px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.8);
      }

      .message-box {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        color: white;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.3s;
        display: none;
      }

      .message-success {
        background: var(--highlight-green);
      }

      .message-warning {
        background: var(--highlight-red);
      }

      .message-fun {
        background: var(--accent-purple);
      }

      .message-box.show {
        display: block;
        opacity: 1;
      }

      .input-group {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
      }

      @media (max-width: 768px) {
        .pros-cons-grid {
          grid-template-columns: 1fr;
        }

        .roulette-item {
          min-width: 150px;
          font-size: 1rem;
        }
      }

      @media (max-width: 480px) {
        .main-app {
          margin: 10px;
        }

        .logo {
          font-size: 1.7rem;
        }

        .result-display {
          font-size: 1.5rem;
          padding: 12px 20px;
        }

        .decision-btn {
          padding: 12px 20px;
          font-size: 1rem;
        }

        .content-section {
          padding: 15px;
        }

        .pulse-light {
          top: 15px;
          right: 15px;
          width: 10px;
          height: 10px;
        }

        .roulette-item {
          min-width: 120px;
          font-size: 0.9rem;
        }
      }

      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background-color: var(--logo-yellow);
        opacity: 0;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <div class="main-app">
      <div class="pulse-light"></div>

      <header class="app-header">
        <h1 class="logo">üéØ Decision Maker üéØ</h1>
        <p class="subtitle">
          Putaran roulette akan menentukan pilihan terbaik! üé°
        </p>
      </header>

      <div class="tips-box" id="tipsBox">
        üí° <strong>Tips:</strong> Tambahkan minimal 2 pilihan untuk mulai!
      </div>

      <div class="content-section border-section">
        <div class="input-group">
          <input
            type="text"
            id="optionInput"
            placeholder="Masukkan pilihan Anda..."
            class="input-style"
          />
          <button class="add-btn btn-style" id="addOptionBtn">
            <i class="fas fa-plus"></i>
          </button>
        </div>

        <div class="options-list" id="optionsList">
          <div class="option-item">
            <span style="color: rgba(255, 255, 255, 0.5)"
              >Belum ada pilihan. Tambahkan beberapa pilihan!</span
            >
          </div>
        </div>
      </div>

      <div class="content-section border-section">
        <button class="decision-btn btn-style" id="decideBtn" disabled>
          <i class="fas fa-random"></i> Putar Roulette!
        </button>
      </div>

      <div class="content-section">
        <div class="roulette-container" id="rouletteContainer">
          <div class="roulette-wheel" id="rouletteWheel"></div>
          <div class="roulette-pointer"></div>
        </div>
      </div>

      <div class="content-section result-section">
        <div class="result-placeholder" id="resultPlaceholder">
          Hasil roulette akan muncul di sini...
        </div>
        <div
          class="result-display"
          id="resultDisplay"
          style="display: none"
        ></div>
        <div class="fun-message" id="funMessage"></div>
      </div>

      <div
        class="content-section pros-cons-section"
        id="prosConsSection"
        style="display: none"
      >
        <div class="pros-cons-title">Analisis Pilihan:</div>
        <div class="pros-cons-grid">
          <div class="pros-list">
            <h4><i class="fas fa-thumbs-up"></i> Kelebihan</h4>
            <div id="prosList"></div>
          </div>
          <div class="cons-list">
            <h4><i class="fas fa-thumbs-down"></i> Kekurangan</h4>
            <div id="consList"></div>
          </div>
        </div>
      </div>

      <div class="history-section">
        <div class="history-title">Keputusan Terakhir:</div>
        <div class="history-item" id="historyItem">Belum ada keputusan</div>
      </div>
    </div>

    <div id="messageBox" class="message-box"></div>

    <script>
      const funMessages = {
        positive: [
          "Wah, pilihan yang bagus! üëç",
          "Keren! Itu keputusan yang tepat! üéâ",
          "Yes! Pilihan terbaik hari ini! ‚ú®",
          "Mantap! Langsung eksekusi! üöÄ",
          "Hebat! Tidak ada keraguan lagi! üí™",
        ],
        neutral: [
          "Hmm, menarik pilihannya! ü§î",
          "Oke, mari kita coba! üëå",
          "Bagus! Mari kita lihat hasilnya! üîç",
          "Siap! Waktunya action! ‚è±Ô∏è",
          "Yey! Pilihan sudah ditentukan! üéØ",
        ],
        funny: [
          "Akhirnya! Sudah lama menunggu keputusan ini! üòÖ",
          "Waktunya beraksi, pahlawan! ü¶∏‚Äç‚ôÇÔ∏è",
          "Keputusan ini akan mengubah hidup Anda! üåü",
          "Drum roll please... ü•Å",
          "Ini dia jawaban dari alam semesta! üåå",
        ],
      };

      const tipsMessages = [
        "üí° <strong>Tips:</strong> Tambahkan pilihan yang benar-benar membuat Anda bingung!",
        "üéØ <strong>Fun Fact:</strong> Roulette ini lebih adil daripada koin!",
        "ü§î <strong>Tips:</strong> Jangan tambahkan pilihan 'jangan pilih aku' - roulette akan bingung!",
        "üòÑ <strong>Fun Fact:</strong> Tombol hijau ini lebih hijau daripada daun di musim hujan!",
        "üí´ <strong>Tips:</strong> Semakin banyak pilihan, semakin seru roulette-nya!",
        "üé≤ <strong>Fun Fact:</strong> Sistem ini menggunakan teknologi canggih 'Random-ology'!",
        "ü§ñ <strong>Tips:</strong> Robot kecil di belakang layar sedang berhitung untuk Anda!",
        "‚ú® <strong>Fun Fact:</strong> Lampu hijau berkedip = sistem sedang bernafas!",
        "üçÄ <strong>Tips:</strong> Semoga keberuntungan selalu menyertai pilihan Anda!",
        "üòÇ <strong>Fun Fact:</strong> Jika bingung memilih, coba tutup mata dan putar roulette!",
      ];

      const prosConsData = {
        "makan di luar": {
          pros: [
            "Tidak perlu masak",
            "Coba menu baru",
            "Suasana berbeda",
            "Hemat waktu",
          ],
          cons: ["Lebih mahal", "Harus antri", "Kurang sehat", "Waktu tempuh"],
        },
        "masak di rumah": {
          pros: [
            "Lebih hemat",
            "Lebih sehat",
            "Bisa sesuai selera",
            "Keluarga berkumpul",
          ],
          cons: [
            "Butuh waktu",
            "Harus belanja",
            "Bersih-bersih",
            "Resiko gagal masak",
          ],
        },
        "nonton film": {
          pros: ["Hibur diri", "Ilmu baru", "Relaksasi", "Quality time"],
          cons: [
            "Habis waktu",
            "Bikin mata lelah",
            "Bisa mahal",
            "Spoiler dari teman",
          ],
        },
        "belanja online": {
          pros: [
            "Praktis",
            "Banyak pilihan",
            "Bisa compare harga",
            "Door to door",
          ],
          cons: [
            "Tidak bisa lihat langsung",
            "Resiko barang cacat",
            "Ongkos kirim",
            "Ketagihan belanja",
          ],
        },
        olahraga: {
          pros: [
            "Sehat",
            "Mood booster",
            "Energi meningkat",
            "Bentuk badan ideal",
          ],
          cons: ["Capek", "Butuh waktu", "Berkeringat", "Butuh konsistensi"],
        },
      };

      const optionInput = document.getElementById("optionInput");
      const addOptionBtn = document.getElementById("addOptionBtn");
      const optionsList = document.getElementById("optionsList");
      const decideBtn = document.getElementById("decideBtn");
      const resultPlaceholder = document.getElementById("resultPlaceholder");
      const resultDisplay = document.getElementById("resultDisplay");
      const funMessage = document.getElementById("funMessage");
      const historyItem = document.getElementById("historyItem");
      const messageBox = document.getElementById("messageBox");
      const tipsBox = document.getElementById("tipsBox");
      const rouletteWheel = document.getElementById("rouletteWheel");
      const prosConsSection = document.getElementById("prosConsSection");
      const prosList = document.getElementById("prosList");
      const consList = document.getElementById("consList");

      let options = [];
      let decisionHistory = [];
      let tipsInterval;
      let isSpinning = false;
      let rouletteInterval;
      let currentPosition = 0;
      let spinSpeed = 0;

      function showMessage(message, type = "info") {
        messageBox.textContent = message;
        messageBox.className = "message-box";

        if (type === "success") {
          messageBox.classList.add("message-success");
        } else if (type === "warning") {
          messageBox.classList.add("message-warning");
        } else if (type === "fun") {
          messageBox.classList.add("message-fun");
        }

        messageBox.classList.add("show");

        setTimeout(
          () => {
            messageBox.classList.remove("show");
          },
          type === "fun" ? 5000 : 3000
        );
      }

      function changeTips() {
        const randomTip =
          tipsMessages[Math.floor(Math.random() * tipsMessages.length)];
        tipsBox.innerHTML = randomTip;
        tipsBox.style.animation = "none";
        setTimeout(() => {
          tipsBox.style.animation = "slideDown 0.5s ease-out";
        }, 10);
      }

      function addOption() {
        const optionText = optionInput.value.trim();

        if (optionText === "") {
          showMessage("Masukkan pilihan dulu ya!", "warning");
          return;
        }

        if (options.length >= 10) {
          showMessage("Maksimal 10 pilihan ya!", "warning");
          return;
        }

        if (options.includes(optionText)) {
          showMessage("Pilihan ini sudah ada!", "warning");
          return;
        }

        options.push(optionText);
        renderOptions();
        updateRoulette();
        optionInput.value = "";
        optionInput.focus();

        if (options.length >= 2) {
          decideBtn.disabled = false;
          changeTips();
        }

        showMessage("Pilihan ditambahkan! ‚úÖ", "success");
      }

      function removeOption(index) {
        options.splice(index, 1);
        renderOptions();
        updateRoulette();

        if (options.length < 2) {
          decideBtn.disabled = true;
        }

        showMessage("Pilihan dihapus! ‚ùå", "warning");
      }

      function renderOptions() {
        optionsList.innerHTML = "";

        if (options.length === 0) {
          const emptyMessage = document.createElement("div");
          emptyMessage.className = "option-item";
          emptyMessage.innerHTML =
            '<span style="color: rgba(255,255,255,0.5)">Belum ada pilihan. Tambahkan beberapa pilihan!</span>';
          optionsList.appendChild(emptyMessage);
          return;
        }

        options.forEach((option, index) => {
          const optionItem = document.createElement("div");
          optionItem.className = "option-item";
          optionItem.innerHTML = `
                    <span class="option-text">${option}</span>
                    <button class="remove-btn btn-style" onclick="removeOption(${index})">
                        <i class="fas fa-times"></i>
                    </button>
                `;
          optionsList.appendChild(optionItem);
        });
      }

      function updateRoulette() {
        rouletteWheel.innerHTML = "";

        if (options.length === 0) {
          const emptyItem = document.createElement("div");
          emptyItem.className = "roulette-item";
          emptyItem.textContent = "Tambahkan pilihan";
          rouletteWheel.appendChild(emptyItem);
          return;
        }

        // Buat lebih banyak item untuk efek loop yang smooth
        for (let i = 0; i < 3; i++) {
          options.forEach((option) => {
            const item = document.createElement("div");
            item.className = "roulette-item";
            item.textContent = option;
            rouletteWheel.appendChild(item);
          });
        }
      }

      function startRouletteSpin() {
        if (rouletteInterval) {
          clearInterval(rouletteInterval);
        }

        spinSpeed = 30; // Kecepatan awal tinggi
        currentPosition = 0;

        rouletteInterval = setInterval(() => {
          currentPosition += spinSpeed;
          rouletteWheel.style.transform = `translateX(-${currentPosition}px)`;

          // Reset position ketika mencapai akhir untuk efek loop
          const wheelWidth = rouletteWheel.scrollWidth;
          if (currentPosition >= wheelWidth / 3) {
            currentPosition = 0;
          }
        }, 16); // ~60fps
      }

      function stopRouletteSpin(selectedOption) {
        // Perlambat secara bertahap
        const slowDownInterval = setInterval(() => {
          spinSpeed *= 0.95; // Perlambat 5% setiap frame

          if (spinSpeed < 0.5) {
            clearInterval(rouletteInterval);
            clearInterval(slowDownInterval);

            // Hitung posisi akhir yang tepat
            const itemWidth = 200;
            const optionIndex = options.indexOf(selectedOption);
            const targetPosition =
              options.length * itemWidth + optionIndex * itemWidth;

            // Animasi ke posisi akhir dengan easing
            rouletteWheel.style.transition =
              "transform 1s cubic-bezier(0.2, 0.8, 0.3, 1)";
            rouletteWheel.style.transform = `translateX(-${targetPosition}px)`;

            setTimeout(() => {
              showResult(selectedOption);
            }, 1000);
          }
        }, 16);
      }

      function showResult(selectedOption) {
        resultDisplay.innerHTML = `"${selectedOption}"`;

        const messageType = ["positive", "neutral", "funny"][
          Math.floor(Math.random() * 3)
        ];
        const randomMessage =
          funMessages[messageType][
            Math.floor(Math.random() * funMessages[messageType].length)
          ];
        funMessage.textContent = randomMessage;

        showProsCons(selectedOption);

        decisionHistory.unshift(selectedOption);
        if (decisionHistory.length > 5) {
          decisionHistory.pop();
        }
        updateHistory();

        createConfetti();

        isSpinning = false;
        decideBtn.disabled = false;
        changeTips();
      }

      function createConfetti() {
        const colors = ["#f1c40f", "#e74c3c", "#2ecc71", "#bb66ff"];

        for (let i = 0; i < 30; i++) {
          const confetti = document.createElement("div");
          confetti.className = "confetti";
          confetti.style.backgroundColor =
            colors[Math.floor(Math.random() * colors.length)];
          confetti.style.left = Math.random() * 100 + "vw";
          confetti.style.top = "-10px";
          confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
          document.body.appendChild(confetti);

          const animation = confetti.animate(
            [
              { transform: "translateY(0) rotate(0deg)", opacity: 1 },
              {
                transform: `translateY(${window.innerHeight}px) rotate(${
                  Math.random() * 360
                }deg)`,
                opacity: 0,
              },
            ],
            {
              duration: 1000 + Math.random() * 2000,
              easing: "cubic-bezier(0.1, 0.8, 0.2, 1)",
            }
          );

          animation.onfinish = () => {
            document.body.removeChild(confetti);
          };
        }
      }

      function showProsCons(selectedOption) {
        prosConsSection.style.display = "block";
        prosList.innerHTML = "";
        consList.innerHTML = "";

        let foundData = null;
        for (const [key, value] of Object.entries(prosConsData)) {
          if (selectedOption.toLowerCase().includes(key)) {
            foundData = value;
            break;
          }
        }

        if (!foundData) {
          foundData = {
            pros: [
              "Bisa dicoba",
              "Pengalaman baru",
              "Mungkin menyenangkan",
              "Belajar hal baru",
            ],
            cons: [
              "Butuh persiapan",
              "Mungkin ada resiko",
              "Butuh waktu",
              "Bisa mengecewakan",
            ],
          };
        }

        foundData.pros.forEach((pro) => {
          const proItem = document.createElement("div");
          proItem.className = "pros-cons-item pros-item";
          proItem.innerHTML = `<i class="fas fa-check"></i> ${pro}`;
          prosList.appendChild(proItem);
        });

        foundData.cons.forEach((con) => {
          const conItem = document.createElement("div");
          conItem.className = "pros-cons-item cons-item";
          conItem.innerHTML = `<i class="fas fa-times"></i> ${con}`;
          consList.appendChild(conItem);
        });
      }

      function makeDecision() {
        if (options.length < 2 || isSpinning) {
          showMessage("Butuh minimal 2 pilihan!", "warning");
          return;
        }

        isSpinning = true;
        decideBtn.disabled = true;

        resultPlaceholder.style.display = "none";
        resultDisplay.style.display = "none";
        prosConsSection.style.display = "none";

        resultDisplay.style.display = "block";
        resultDisplay.innerHTML =
          '<div class="deciding-animation"><i class="fas fa-cog fa-spin"></i> Memutar Roulette...</div>';
        funMessage.textContent = "Tunggu sebentar ya...";

        const randomIndex = Math.floor(Math.random() * options.length);
        const selectedOption = options[randomIndex];

        // Mulai putaran roulette
        startRouletteSpin();

        // Setelah 2 detik, mulai perlambatan
        setTimeout(() => {
          stopRouletteSpin(selectedOption);
        }, 2000);
      }

      function updateHistory() {
        if (decisionHistory.length > 0) {
          historyItem.textContent = `"${decisionHistory[0]}"`;
        } else {
          historyItem.textContent = "Belum ada keputusan";
        }
      }

      addOptionBtn.addEventListener("click", addOption);

      optionInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          addOption();
        }
      });

      decideBtn.addEventListener("click", makeDecision);

      renderOptions();
      updateRoulette();

      tipsInterval = setInterval(changeTips, 8000);
    </script>
  </body>
</html>
